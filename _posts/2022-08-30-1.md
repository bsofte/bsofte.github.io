---
layout	: single
title		: docker 명령어
---

## datadir 데이터 통째로 도커서버로 복사. (root 원격 로그인 차단 상태로 가정)
* 도커서버 내 기본계정으로 접속, 복사
```sh
scp -P<PORT> -r /var/lib/mysql <USERNAME>@<IP_ADDR>:<TMP_PATH>
```
* 도커 마운트 볼륨 생성.
```sh
docker volume create <VOL_NAME>
```
  + 생성한 마운트 볼륨 경로 확인.
```sh
docker volume inspect <VOL_NAME>
```
* 마운트 볼륨으로 이동. (sudo)
```sh
sudo mv <TMP_PATH> <VOL_PATH>
```
|:point_up:| 이동한 파일/디렉터리에 chmod 안 해도 됨.|
|--|--|


* 컨테이너 새로 실행.
```sh
docker run -d --name <CTNR_NAME> -p 0.0.0.0:<EXT_PORT>:<INT_PORT> <IMG_NAME>
docker run -d --name <CTNR_NAME> -p 0.0.0.0:80:80 -p 0.0.0.0:8080:8081 <IMG_NAME>
```

* 실행중인 컨테이너에서 ssh 시작. (명령어 구문을 따옴표로 감싸지 말 것!)
```sh
docker exec <CTNR_NAME> service ssh start
```

* 실행중인 컨테이너 셸에 진입.
```sh
docker exec -it <CTNR_NAME> bash
```
